<div class="test">
    <teamplate-header></teamplate-header>
    <div class="clear"></div>
    <div class="main">
        <teamplate-taskbar></teamplate-taskbar>
        <div class="home">
            <div class="form">
                <br />
                <button ng-click="vm.new()" class="btn btn-primary" ng-if="!vm.notAdmin">New Internship</button>
                <br />
                <br>
                <form action="" method="post">
                    <div class="container">
                        
                        <table>
                            <tr>
                                <td>
                                    <label for="username"><b>Intership Id</b></label>
                                </td>
                                <td>
                                    <input type="text" name="internshipId" ng-model="vm.internshipId"
                                        ng-disabled="vm.check_add">
                                    <!-- <button type="button" ng-click="vm.search()" data-target="#{{vm.log}}"
                                        data-toggle="modal" disabled>Search</button> -->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="pass"><b>Name</b></label>
                                </td>
                                <td>
                                    <input type="text" name="name" ng-model="vm.name" ng-disabled="vm.notAdmin" >
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="birthday"><b>Birthday</b></label>
                                </td>
                                <td>
                                    <input type="text" name="birthday" ng-model="vm.birthday" ng-disabled="vm.notAdmin" ng-blur="vm.checkBirthday()"> <span style="color: red;" ng-if="!vm.check_birthday">Dinh dang khong hop le(yyyy/mm/dd)</span>
                                    
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="pass"><b>Ngay vao thuc tap</b></label>
                                </td>
                                <td>
                                    <input type="text" name="date" ng-model="vm.date" ng-disabled="vm.notAdmin" >
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="pass"><b>Password</b></label>
                                </td>
                                <td>
                                    <input type="text" name="password" ng-model="vm.pass" ng-disabled="vm.notAdmin" >
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="pass"><b>Admin</b></label>
                                </td>
                                <td>
                                    <input type="text" name="isAdmin" ng-model="vm.isAdmin" ng-disabled="vm.notAdmin" >
                                </td>
                            </tr>
                            <tr>
                                
                                <td>
                                    
                                </td>
                                <td>
                                    <span ng-show="vm.check_add">
                                        <button class="btn btn-primary" type="button"  ng-click="vm.update()" ng-disabled="vm.check_edit">Update</button>
                                        <button class="btn btn-danger" type="button"  ng-click="vm.edit(vm.internshipId)" ng-disabled="vm.check_edit">Reset</button>
                                    </span>
                                    <span ng-hide="vm.check_add">
                                        <button class="btn btn-primary" type="button"  ng-click="vm.add()" >Add</button>
                                        <button class="btn btn-danger" type="button"  ng-click="vm.new()" >Reset</button>
                                    </span>
                                </td>
                            </tr>
                        </table>

                        <!-- Edit Modal HTML -->
                        <div id="addEmployeeModal" class="modal fade">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <form action="" method="post">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Ket qua tim kiem</h4>
                                            <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true">&times;</button>
                                        </div>
                                        <div class="modal-body">
                                            <table>
                                                <tr>
                                                    <td>
                                                        <label for="username"><b>Intership Id</b></label>
                                                    </td>
                                                    <td>
                                                        <input type="text" name="internshipId"
                                                            ng-model="vm.internshipIdForm" disabled>

                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label for="pass"><b>Name</b></label>
                                                    </td>
                                                    <td>
                                                        <input type="text" name="name" ng-model="vm.nameForm" disabled>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label for="birthday"><b>Birthday</b></label>
                                                    </td>
                                                    <td>
                                                        <input type="text" name="birthday" ng-model="vm.birthdayForm"
                                                            disabled>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label for="pass"><b>Ngay vao thuc tap</b></label>
                                                    </td>
                                                    <td>
                                                        <input type="text" name="date" ng-model="vm.dateForm" disabled>
                                                    </td>
                                                </tr>

                                            </table>

                                        </div>
                                        <div class="modal-footer">
                                            <input type="button" ng-model="all" class="btn btn-default"
                                                data-dismiss="modal" value="OK" ng-click="vm.OK()">
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                    </div>
                </form>
<br>
                <!-- form xuat danh sach -->
                <button class="btn btn-primary" ng-click="vm.getAllUsers()">Refesh</i></button>
                    <table style="text-align: center; border: 1px solid black;">
                        <tr>
                            <td>
                                <b>Intership Id</b>
                            </td>
                            <td>
                                <b>Name</b>
                            </td>
                            <td>
                                <b>Birthday</b>
                            </td>
                            <td>
                                <b>Day in company</b>
                            </td>
                            <td>
                                <b>Password</b>
                            </td>
                            <td>
                                <b>Admin</b>
                            </td>
                            <td>
                                <b>Option</b>
                            </td>
                        </tr>
                        <tr ng-repeat="u in vm.users">
                            <td>
                                <b>{{u.id}}</b>
                            </td>
                            <td>
                                <b>{{u.name}}</b>
                            </td>
                            <td>
                                <b>{{u.birthday}}</b>
                            </td>
                            <td>
                                <b>{{u.getInCompanyDay}}</b>
                            </td>
                            <td>
                                <b>{{u.password}}</b>
                            </td>
                            <td>
                                <b>{{u.isAdmin}}</b>
                            </td>

                            <td>
                                <button class="btn-primary" ng-click="vm.edit(u.id)">Edit</i></button>
                                <button class="btn-danger" ng-click="vm.delete(u.id)">Delete</i></button>
                            </td>
                        </tr>
                        
                    </table>
            </div>
        </div>
    </div>
    <div class="footer"></div>
</div>
<div style="display: none;" id="dialogedit" title="Trang thai tim kiem" >
    {{vm.status}}
    <br>
    <br>
    <p style="float: right;">
        <button ng-click="vm.okDialogEdit()">OK</button>
        <button ng-click="vm.cancleDialogEdit()">Cancle</button>
    </p>
</div>

<div style="display: none;" id="dialogupdate" title="Trang thai cap nhat" >
    {{vm.status}}
    <br>
    <br>
    <p style="float: right;">
        <button ng-click="vm.okDialogUpdate()">OK</button>
    </p>
</div>


<div style="display: none;" id="dialogdelete" title="Xoa ?" >
    Ban chac chan muon xoa ?
    <br>
    <br>
    <p style="float: right;">
        <button ng-click="vm.okDialogDelete()">OK</button>
        <button ng-click="vm.cancleDialogDelete()">Cancle</button>
    </p>
</div>

<div style="display: none;" id="statusdelete" title="Trang thai xoa" >
    {{vm.statusDelete}}    
<br>
    <br>
    <p style="float: right;">
        <button ng-click="vm.okDialogStatusDelete()" class="btn btn-primary">OK</button>
    </p>
</div>
